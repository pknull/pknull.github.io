<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Giscus Theme Test</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 20px;
      transition: background-color 0.3s, color 0.3s;
    }

    .theme-switcher {
      position: fixed;
      top: 10px;
      right: 10px;
      display: flex;
      gap: 10px;
      z-index: 100;
    }

    .theme-switcher button {
      padding: 8px 16px;
      cursor: pointer;
      border: 2px solid #666;
      background: #fff;
      border-radius: 4px;
    }

    .theme-switcher button.active {
      background: #333;
      color: #fff;
    }

    /* Giscus base button styles (what Giscus provides internally) */
    .gsc-comment-box-buttons > a {
      display: inline-flex;
      align-items: center;
      padding: 5px 16px;
      font-size: 14px;
      font-weight: 500;
      line-height: 20px;
      border: 1px solid;
      border-radius: 6px;
      text-decoration: none;
      cursor: pointer;
      transition: background-color 0.2s, border-color 0.2s, color 0.2s;
    }

    .gsc-reactions-button {
      display: inline-flex;
      align-items: center;
      padding: 4px 8px;
      font-size: 12px;
      border: 1px solid;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    h1 { margin-bottom: 30px; }
    h2 { margin-top: 40px; border-bottom: 1px solid currentColor; padding-bottom: 10px; }

    .test-section {
      margin: 20px 0;
      padding: 20px;
      border: 1px dashed #666;
      border-radius: 8px;
    }

    .state-label {
      font-size: 12px;
      color: #888;
      margin-bottom: 8px;
    }

    .flex-row {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      align-items: flex-start;
    }

    .flex-col {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
  </style>
</head>
<body>
  <div class="theme-switcher">
    <button onclick="setTheme('dark')" id="btn-dark">Dark</button>
    <button onclick="setTheme('light')" id="btn-light">Light</button>
    <button onclick="setTheme('minimal')" id="btn-minimal">Minimal</button>
  </div>

  <h1>Giscus Theme Test Page</h1>
  <p>This page mimics Giscus's class structure for local CSS testing.</p>

  <!-- Giscus-like container -->
  <main>
    <h2>Buttons</h2>

    <div class="test-section">
      <div class="state-label">Sign In Button (gsc-comment-box-buttons > a)</div>
      <div class="flex-row">
        <div class="flex-col">
          <span class="state-label">Normal / Hover (use mouse)</span>
          <div class="gsc-comment-box-buttons">
            <a href="#" class="gsc-sign-in-btn">
              <svg height="16" viewBox="0 0 16 16" width="16" style="margin-right: 4px; vertical-align: text-bottom; fill: currentColor;">
                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
              </svg>
              Sign in with GitHub
            </a>
          </div>
        </div>
      </div>
    </div>

    <div class="test-section">
      <div class="state-label">Reaction Button (gsc-reactions-button)</div>
      <div class="flex-row">
        <button class="gsc-reactions-button">üëç 0</button>
        <button class="gsc-reactions-button">üëé 0</button>
        <button class="gsc-reactions-button">üòÑ 0</button>
        <button class="gsc-reactions-button">üéâ 0</button>
        <button class="gsc-reactions-button">üòï 0</button>
        <button class="gsc-reactions-button">‚ù§Ô∏è 0</button>
        <button class="gsc-reactions-button">üöÄ 0</button>
        <button class="gsc-reactions-button">üëÄ 0</button>
      </div>
    </div>

    <h2>Form Elements</h2>

    <div class="test-section">
      <div class="state-label">Textarea</div>
      <textarea placeholder="Write a comment..." rows="4" style="width: 100%; max-width: 500px;"></textarea>
    </div>

    <div class="test-section">
      <div class="state-label">Input</div>
      <input type="text" placeholder="Search..." style="width: 100%; max-width: 300px; padding: 8px;">
    </div>

    <h2>Links</h2>

    <div class="test-section">
      <div class="state-label">Regular Links (main a)</div>
      <p>
        <a href="#">Normal link</a> |
        <a href="#">Another link</a> |
        <a href="#">Hover me</a>
      </p>
    </div>

    <h2>Containers</h2>

    <div class="test-section">
      <div class="state-label">Comment Box (gsc-comment-box)</div>
      <div class="gsc-comment-box" style="padding: 16px; border-radius: 6px; border: 1px solid;">
        <p style="margin: 0 0 10px 0;">This is a comment box container.</p>
        <textarea placeholder="Add a comment..." rows="3" style="width: 100%;"></textarea>
        <div class="gsc-comment-box-buttons" style="margin-top: 10px;">
          <a href="#">
            <svg height="16" viewBox="0 0 16 16" width="16" style="margin-right: 4px; vertical-align: text-bottom; fill: currentColor;">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
            </svg>
            Sign in with GitHub
          </a>
        </div>
      </div>
    </div>

    <div class="test-section">
      <div class="state-label">Timeline (gsc-timeline)</div>
      <div class="gsc-timeline" style="border-left: 2px solid; padding-left: 20px; margin-left: 10px;">
        <p>Comment 1: This is a timeline item.</p>
        <p>Comment 2: Another timeline item.</p>
        <p>Comment 3: Yet another one.</p>
      </div>
    </div>

    <h2>Color Swatches</h2>

    <div class="test-section" id="color-swatches">
      <!-- Populated by JS -->
    </div>

  </main>

  <script>
    let currentTheme = 'dark';

    function setTheme(theme) {
      currentTheme = theme;

      // Remove old stylesheet
      const oldLink = document.getElementById('giscus-theme');
      if (oldLink) oldLink.remove();

      // Add new stylesheet
      const link = document.createElement('link');
      link.id = 'giscus-theme';
      link.rel = 'stylesheet';
      link.href = `giscus-${theme}.css`;
      document.head.appendChild(link);

      // Update body background based on theme for better preview
      if (theme === 'dark') {
        document.body.style.backgroundColor = '#282828';
        document.body.style.color = '#ebdbb2';
      } else if (theme === 'light') {
        document.body.style.backgroundColor = '#dad3ba';
        document.body.style.color = '#3a3832';
      } else {
        document.body.style.backgroundColor = '#fff';
        document.body.style.color = '#333';
      }

      // Update button states
      document.querySelectorAll('.theme-switcher button').forEach(btn => {
        btn.classList.remove('active');
      });
      document.getElementById(`btn-${theme}`).classList.add('active');

      // Update color swatches
      updateSwatches(theme);
    }

    function updateSwatches(theme) {
      const colors = {
        dark: {
          'canvas-default': '#282828',
          'canvas-subtle': '#3c3836',
          'canvas-inset': '#1d2021',
          'border-default': '#504945',
          'fg-default': '#ebdbb2',
          'fg-muted': '#a89984',
          'accent-fg': '#fabd2f',
          'btn-bg': '#fabd2f',
          'btn-hover-bg': '#3c3836',
          'btn-text': '#282828',
          'link-hover': '#fe8019'
        },
        light: {
          'canvas-default': '#dad3ba',
          'canvas-subtle': '#c4bda6',
          'canvas-inset': '#a39e8b',
          'border-default': '#6d6959',
          'fg-default': '#3a3832',
          'fg-muted': '#52504a',
          'accent-fg': '#9d4a2e',
          'btn-bg': '#495245',
          'btn-hover-bg': '#5a5243',
          'btn-text': '#dad3ba',
          'link-hover': '#5a5243'
        },
        minimal: {
          'canvas-default': 'transparent',
          'canvas-subtle': 'rgba(128,128,128,0.1)',
          'border-default': 'rgba(128,128,128,0.3)',
          'fg-default': 'inherit',
          'accent-fg': '#0066cc',
          'btn-bg': '#2ea44f',
          'btn-hover-bg': '#22863a',
          'btn-text': '#fff'
        }
      };

      const swatchContainer = document.getElementById('color-swatches');
      const themeColors = colors[theme] || {};

      let html = '<div class="flex-row" style="flex-wrap: wrap;">';
      for (const [name, color] of Object.entries(themeColors)) {
        html += `
          <div style="text-align: center; margin: 5px;">
            <div style="width: 60px; height: 60px; background: ${color}; border: 1px solid #666; border-radius: 4px;"></div>
            <div style="font-size: 10px; margin-top: 4px;">${name}</div>
            <div style="font-size: 9px; opacity: 0.7;">${color}</div>
          </div>
        `;
      }
      html += '</div>';
      swatchContainer.innerHTML = html;
    }

    // Initialize with dark theme
    setTheme('dark');
  </script>
</body>
</html>
